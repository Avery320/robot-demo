#motion-planner-overlay{position:fixed;inset:0;background:rgba(0,0,0,.4);z-index:1000}#motion-planner-overlay.hidden{display:none}.motion-planner-panel{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:min(960px,90vw);height:min(640px,80vh);background:#23272f;border-radius:var(--radius-large);box-shadow:0 8px 24px rgba(0,0,0,.4);display:flex;flex-direction:column;overflow:hidden}.motion-planner-header{display:flex;align-items:center;justify-content:space-between;padding:var(--pad-large) var(--pad-large);border-bottom:1px solid hsla(0,0%,100%,.2)}.motion-planner-title{font-size:14px;font-weight:600}.motion-planner-body{flex:1;position:relative;display:flex;flex-direction:column;padding:var(--pad-large);box-sizing:border-box}.mp-layout{display:flex;width:100%;flex:1;min-height:0;gap:var(--gap-large)}.mp-sidebar{width:220px;flex-shrink:0;border-right:1px solid hsla(0,0%,100%,.15);padding-right:var(--pad-large);display:flex;flex-direction:column}.mp-sidebar-title{font-size:var(--btn-font-size-small);font-weight:600;margin-bottom:4px;opacity:.85}.mp-palette-list{display:flex;flex-direction:column;gap:var(--gap-small)}.mp-palette-item{min-height:var(--btn-height);height:var(--btn-height);padding:0 var(--pad-large);display:flex;align-items:center;justify-content:flex-start;cursor:grab;user-select:none;font-size:13px;box-sizing:border-box;color:#000;border-radius:var(--radius-small)}.mp-palette-item:active{cursor:grabbing}.mp-palette-item input,.mp-palette-item select{background-color:#111;color:#fff;border:1px solid hsla(0,0%,100%,.3);font-size:11px;padding:var(--pad-small) var(--pad-small)}.mp-main{flex:1;display:flex;flex-direction:column;min-height:0}.mp-toolbar{display:flex;gap:var(--gap-small);margin-bottom:var(--gap-small);align-items:center}#mp-seq-description{flex:1;min-width:0}.mp-sequence-list{height:500px;overflow-y:auto;overflow-x:hidden;padding-right:4px}.mp-sequence-list>.mp-step-card{margin-bottom:var(--gap-small)}.mp-sequence-list>.mp-step-card:last-child{margin-bottom:0}.mp-step-card{background:#1f242c;border-radius:var(--radius-small);border:1px solid hsla(0,0%,100%,.08);padding:var(--pad-small) var(--pad-large);flex-direction:column;opacity:.8}.mp-step-card,.mp-step-header{display:flex;gap:var(--gap-small)}.mp-step-header{align-items:center}.mp-step-handle{cursor:grab;font-size:14px;opacity:.8}.mp-step-title{font-weight:600;font-size:12px}.mp-step-summary{flex:1;font-size:11px;opacity:.8}.mp-step-body{display:grid;grid-template-columns:repeat(auto-fit,minmax(80px,1fr));gap:var(--gap-small);font-size:11px}.mp-step-field{display:flex;flex-direction:column;gap:var(--gap-small)}.mp-step-field label{font-size:10px;opacity:.8}.mp-step-field input,.mp-step-field select{font-size:11px;padding:var(--pad-small)}.mp-step-card.executing{opacity:1}.mp-step-card.completed{opacity:.3}.mp-step-card.failed{background-color:rgba(220,53,69,.18);border-left:3px solid #ff4d4f;opacity:1}.motion-planner-inline{display:flex;flex-direction:column;gap:var(--gap-small);max-height:clamp(320px,70vh,640px)}.motion-planner-inline .mp-inline-top{flex:0 0 auto;padding:var(--pad-small) var(--pad-large);border-bottom:1px solid hsla(0,0%,100%,.15)}.motion-planner-inline .mp-inline-middle{border-top:1px solid rgba(0,0,0,.35);border-bottom:1px solid hsla(0,0%,100%,.15);flex:1 1 auto;min-height:0;overflow-y:auto;-webkit-overflow-scrolling:touch}.motion-planner-inline .mp-inline-middle .mp-sequence-list{height:auto;max-height:none}.motion-planner-inline .mp-inline-bottom{flex:0 0 auto;display:flex;gap:var(--gap-small);margin-top:2px;border-top:1px solid rgba(0,0,0,.35)}.mp-palette-item[data-type=Axis]{background:rgba(198,40,40,.7);color:#000}.mp-step-card[data-type=Axis]{background:#c62828;color:#000}.mp-palette-item[data-type=MoveJ]{background:rgba(251,140,0,.7);color:#000}.mp-step-card[data-type=MoveJ]{background:#fb8c00;color:#000}.mp-palette-item[data-type=MoveL]{background:rgba(251,192,45,.7);color:#000}.mp-step-card[data-type=MoveL]{background:#fbc02d;color:#000}.mp-palette-item[data-type=DO]{background:rgba(46,125,50,.7);color:#000}.mp-step-card[data-type=DO]{background:#2e7d32;color:#000}.mp-palette-item[data-type=Wait]{background:rgba(21,101,192,.7);color:#000}.mp-step-card[data-type=Wait]{background:#1565c0;color:#000}.mp-step-card{color:#000;cursor:grab}.mp-step-card:active{cursor:grabbing}.mp-step-card .mp-step-body,.mp-step-card .mp-step-header{color:#000}.mp-step-card input,.mp-step-card label,.mp-step-card select{color:#000;cursor:auto}.mp-step-card.executing{border:3px solid #fff;box-sizing:border-box}.mp-step-card.selected{border:2px solid #fff}.mp-toast{position:fixed;left:50%;bottom:24px;transform:translateX(-50%) translateY(8px);padding:var(--pad-large) var(--pad-large);border-radius:var(--radius-small);background:rgba(0,0,0,.85);color:#fff;font-size:13px;z-index:9999;pointer-events:none;opacity:0;transition:opacity .2s ease,transform .2s ease}.mp-toast-show{opacity:1;transform:translateX(-50%) translateY(0)}.mp-toast-hide{opacity:0;transform:translateX(-50%) translateY(8px)}.mp-toast-success{background:rgba(46,125,50,.9)}.mp-toast-error{background:rgba(198,40,40,.9)}.mp-sequence-list::-webkit-scrollbar{width:8px}.mp-sequence-list::-webkit-scrollbar-track{background:transparent}.mp-sequence-list::-webkit-scrollbar-thumb{background:hsla(0,0%,100%,.25);border-radius:var(--radius-small)}.mp-sequence-list::-webkit-scrollbar-thumb:hover{background:hsla(0,0%,100%,.4)}.mp-filename-section{padding:var(--pad-small) 0}.mp-filename-field{display:flex;align-items:center;gap:var(--gap-large)}.mp-filename-field label{min-width:72px;font-size:13px}.mp-filename-field input[type=text]{flex:1;padding:var(--pad-small) var(--pad-small);border-radius:var(--radius-small);border:1px solid hsla(0,0%,100%,.3);font-size:13px;color:#fff}.mp-toolbar-bottom{margin-top:var(--gap-small);margin-bottom:0;padding-top:var(--pad-small);border-top:1px solid hsla(0,0%,100%,.15);display:flex;justify-content:flex-end;gap:var(--gap-small);width:100%;box-sizing:border-box;flex-shrink:0}.mp-palette-container{display:grid;grid-template-columns:1fr 1fr;gap:var(--gap-large)}.mp-palette-params{display:flex;flex-direction:column;gap:var(--gap-small)}.mp-param-item{display:flex;align-items:center;justify-content:stretch;padding:0}.mp-param-item,.mp-param-item.mp-toggle-shell{min-height:var(--btn-height);height:var(--btn-height);gap:var(--gap-small);box-sizing:border-box}.mp-param-item.mp-toggle-shell{padding:var(--pad-small);background:rgba(0,0,0,.6);border:1px solid hsla(0,0%,100%,.25);border-radius:var(--radius-small)}.mp-param-item.mp-toggle-shell .mp-palette-toggle{flex:1;width:100%;border-radius:var(--radius-small);height:100%;min-height:0}.mp-palette-input,.mp-palette-select{flex:1;height:28px;padding:0 var(--pad-large);font-size:12px;border:1px solid hsla(0,0%,100%,.3);background:rgba(0,0,0,.3);color:#fff;border-radius:var(--radius-small);text-align:center;transition:all .15s;box-sizing:border-box}.mp-palette-input:focus,.mp-palette-select:focus{outline:none;border-color:hsla(0,0%,100%,.6);background:rgba(0,0,0,.5)}.mp-palette-input:hover,.mp-palette-select:hover{border-color:hsla(0,0%,100%,.5)}.mp-palette-select option{background:#1a1a1a;color:#fff}.mp-row-controls[data-for=DO] .mp-palette-input,.mp-row-controls[data-for=Wait] .mp-palette-input{flex:1;height:70%;text-align:center}.mp-toggle-group{display:flex;width:100%;height:100%;gap:var(--gap-small)}.mp-toggle-group input[type=hidden]{display:none}.mp-toggle-btn{width:100%;height:100%;border:none;border-radius:var(--radius-small);background:transparent;color:hsla(0,0%,100%,.8);opacity:.7;transition:background .15s ease,color .15s ease,opacity .15s ease}.mp-toggle-btn:hover{opacity:.9}.mp-toggle-btn.active{background:var(--btn-bg);color:#222;opacity:1;box-shadow:0 1px 3px rgba(0,0,0,.25)}.mp-data-source-bar{margin-top:var(--gap-large);display:inline-flex;align-items:center;gap:var(--gap-small);height:var(--btn-height);width:100%;box-sizing:border-box}.mp-data-source-group{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:var(--gap-small);width:100%}.mp-data-source-btn{border:1px solid hsla(0,0%,100%,.35);border-radius:var(--radius-small);background:hsla(0,0%,100%,.1);color:hsla(0,0%,100%,.85);height:34px;font-size:12px;transition:background .15s ease,color .15s ease,border .15s ease;width:100%}.mp-data-source-btn:hover{background:hsla(0,0%,100%,.2)}.mp-data-source-btn.active{background:#fff;color:#111;border-color:rgba(0,0,0,.2);box-shadow:0 1px 3px rgba(0,0,0,.25)}.mp-scaling-section{margin-top:var(--gap-small);margin-bottom:0;font-size:12px;color:hsla(0,0%,100%,.85)}.mp-scaling-row{display:flex;align-items:center;gap:var(--gap-small);margin-bottom:4px}.mp-scaling-row span{min-width:72px}.mp-scaling-row input[type=range]{flex:1}.mp-scaling-row input[type=number]{width:72px}